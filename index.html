<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Countup Timer</title>
  <style>
    :root{
      /* Personalize facilmente as cores aqui */
      --bg: transparent; /* transparente para não criar bloco sólido em embeds */
      --fg: #fcfcfc;     /* cor do texto atualizada */
      --size: 2rem;
      --mobile-size: 1.5rem;
      --font: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans";
    }

    html,body{
      margin:0;
      padding:0;
      background: var(--bg);
      color: var(--fg);
      font-family: var(--font);
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
    }

    .wrap{
      padding: 12px;
      box-sizing: border-box;
      min-width: 0;
    }

    #countup{
      font-size: var(--size);
      line-height: 1.3;
      white-space: pre-line; /* permite quebras de linha em textContent */
      word-break: break-word;
      /* layout simples, sem alinhamento forçado para facilitar embed */
    }

    @media (max-width: 480px){
      #countup{ font-size: var(--mobile-size); }
    }
  </style>
</head>
<body>
  <div class="wrap">
    <!-- role="status" e aria-live ajudam leitores de tela a notarem atualizações -->
    <div id="countup" role="status" aria-live="polite"></div>
  </div>

  <script>
    /* -----------------------------
       CONFIGURAÇÕES FÁCEIS DE MUDAR
       - altere apenas a variável abaixo
       - formato ISO 8601: "YYYY-MM-DDTHH:MM:SS"
       ----------------------------- */
    const TARGET_ISO = "2005-02-22T21:35:00"; // <<< altere aqui para a data/hora desejada
    const SHOW_ZERO_UNITS = false; // se true, mostra todos os campos mesmo que zero

    /* -----------------------------
       NÃO PRECISA MEXER A PARTIR DAQUI
       ----------------------------- */
    const countupEl = document.getElementById("countup");
    const target = new Date(TARGET_ISO);

    const plural = (v, s, p) => `${v} ${v === 1 ? s : p}`;

    // declare timer aqui para evitar referência antes de definido
    let timer = null;

    function updateCountup(){
      const now = new Date();

      // Se a data alvo estiver no futuro
      if (now < target) {
        countupEl.textContent = "EM BREVE";
        if (timer) clearInterval(timer);
        return;
      }

      // componente por componente
      let years = now.getFullYear() - target.getFullYear();
      let months = now.getMonth() - target.getMonth();
      let days = now.getDate() - target.getDate();
      let hours = now.getHours() - target.getHours();
      let minutes = now.getMinutes() - target.getMinutes();
      let seconds = now.getSeconds() - target.getSeconds();

      // ajustes para negativos
      if (seconds < 0) { seconds += 60; minutes--; }
      if (minutes < 0) { minutes += 60; hours--; }
      if (hours < 0)   { hours += 24; days--; }
      if (days < 0) {
        // número de dias no mês anterior (relativo ao mês atual)
        const prevMonthDays = new Date(now.getFullYear(), now.getMonth(), 0).getDate();
        days += prevMonthDays;
        months--;
      }
      if (months < 0) { months += 12; years--; }

      const parts = [];
      if (years > 0)  parts.push(plural(years,  "ano",    "anos"));
      if (months > 0) parts.push(plural(months, "mês",    "meses"));
      if (SHOW_ZERO_UNITS || days > 0)    parts.push(plural(days,   "dia",    "dias"));
      if (SHOW_ZERO_UNITS || hours > 0)   parts.push(plural(hours,  "hora",   "horas"));
      if (SHOW_ZERO_UNITS || minutes > 0) parts.push(plural(minutes,"minuto", "minutos"));
      if (SHOW_ZERO_UNITS || seconds >= 0) parts.push(plural(seconds,"segundo","segundos"));

      // cada parte em nova linha
      countupEl.textContent = parts.join("\n");
    }

    // primeira renderização
    updateCountup();
    // atualiza a cada segundo
    timer = setInterval(updateCountup, 1000);
  </script>
</body>
</html>